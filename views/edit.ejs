<%- include('./partials/header') %>

<section class="book-form">
  <h2>Modifier un Livre</h2>
  
  <form action="/<%= book._id %>" method="POST">
    <div class="form-group">
      <label for="title">Titre*</label>
      <input type="text" id="title" name="title" value="<%= book.title %>" required minlength="3">
      <% if (errors.title) { %>
        <span class="error"><%= errors.title %></span>
      <% } %>
    </div>

    <div class="form-group">
      <label for="author">Auteur*</label>
      <input type="text" id="author" name="author" value="<%= book.author %>" required minlength="3">
      <% if (errors.author) { %>
        <span class="error"><%= errors.author %></span>
      <% } %>
    </div>

    <div class="form-group">
      <label for="year">Année de publication*</label>
      <input type="number" id="year" name="year" value="<%= book.year %>" required max="<%= new Date().getFullYear() %>">
      <% if (errors.year) { %>
        <span class="error"><%= errors.year %></span>
      <% } %>
    </div>

    <div class="form-group">
      <label for="summary">Résumé (max 500 caractères)</label>
      <textarea id="summary" name="summary" maxlength="500"><%= book.summary || '' %></textarea>
      <% if (errors.summary) { %>
        <span class="error"><%= errors.summary %></span>
      <% } %>
    </div>

    <div class="form-buttons">
      <button type="submit" class="btn btn-save">Mettre à jour</button>
      <a href="/" class="btn btn-cancel">Annuler</a>
    </div>
  </form>
</section>

<%- include('./partials/footer') %>